{"version":3,"file":"js/457.1f2d78c0.js","mappings":"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","sources":["webpack://vue_week8/./src/views/FrontCart.vue","webpack://vue_week8/./src/views/FrontCart.vue?efb1"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <Loading :active=\"isLoading\" :z-index=\"1060\"></Loading>\n    <div class=\"mt-4\">\n      <!-- 產品列表 -->\n      <!-- <table class=\"table align-middle\">\n        <thead>\n          <tr>\n            <th>圖片</th>\n            <th>商品名稱</th>\n            <th>價格</th>\n            <th>功能</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"item in products\" :key=\"item.id\">\n            <td style=\"width: 200px\">\n              <div\n                style=\"\n                  height: 100px;\n                  background-size: cover;\n                  background-position: center;\n                \"\n                :style=\"{ backgroundImage: `url(${item.imageUrl})` }\"\n              ></div>\n            </td>\n            <td>\n              <a href=\"#\" class=\"text-dark\">{{ item.title }}</a>\n            </td>\n            <td>\n              <div class=\"h5\" v-if=\"!item.price\">\n                {{ item.origin_price }} 元\n              </div>\n              <del class=\"h6\" v-if=\"item.price\"\n                >原價 {{ item.origin_price }} 元</del\n              >\n              <div class=\"h5\" v-if=\"item.price\">\n                現在只要 {{ item.price }} 元\n              </div>\n            </td>\n            <td>\n              <div class=\"btn-group btn-group-sm\">\n                <button\n                  type=\"button\"\n                  class=\"btn btn-outline-secondary\"\n                  :disabled=\"status.loadingItem === item.id || !item.is_enabled\"\n                  @click=\"getProduct(item.id)\"\n                >\n                  <span\n                    class=\"spinner-border spinner-grow-sm\"\n                    v-if=\"status.loadingItem === item.id\"\n                  ></span>\n                  查看更多\n                </button>\n                <button\n                  type=\"button\"\n                  class=\"btn btn-outline-danger\"\n                  @click=\"addToCart(item.id)\"\n                  :disabled=\"status.loadingItem === item.id || !item.is_enabled\"\n                >\n                  <span\n                    class=\"spinner-border spinner-grow-sm\"\n                    v-if=\"status.loadingItem === item.id\"\n                  ></span>\n                  加到購物車\n                </button>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table> -->\n      <!-- 購物車列表 -->\n      <div class=\"text-end\">\n        <button\n          class=\"btn btn-outline-danger\"\n          type=\"button\"\n          @click=\"deleteAllCarts\"\n        >\n          清空購物車\n        </button>\n      </div>\n      <table class=\"table align-middle\">\n        <thead>\n          <tr>\n            <th></th>\n            <th>品名</th>\n            <th style=\"width: 110px\">數量</th>\n            <th>單價</th>\n          </tr>\n        </thead>\n        <tbody>\n          <template v-if=\"cart.carts\">\n            <tr v-for=\"item in cart.carts\" :key=\"item.id\">\n              <td>\n                <button\n                  type=\"button\"\n                  class=\"btn btn-outline-danger btn-sm\"\n                  :disabled=\"status.loadingItem === item.id\"\n                  @click=\"removeCartItem(item.id)\"\n                >\n                  <i class=\"bi bi-x\"></i>\n                </button>\n              </td>\n              <td>\n                {{ item.product.title }}\n                <div class=\"text-success\" v-if=\"item.coupon\">已套用優惠券</div>\n              </td>\n              <td>\n                <div class=\"input-group input-group-sm\">\n                  <label for=\"updateCart\"></label>\n                  <input\n                    type=\"number\"\n                    class=\"form-control\"\n                    min=\"1\"\n                    v-model.number=\"item.qty\"\n                    @blur=\"updateCart(item)\"\n                  />\n                  <div class=\"input-group-text\">/ {{ item.product.unit }}</div>\n                </div>\n              </td>\n              <td class=\"text-end\">\n                <small class=\"text-success\">原價：</small>\n                {{ item.product.price }}\n              </td>\n            </tr>\n          </template>\n        </tbody>\n        <tfoot>\n          <tr>\n            <td colspan=\"3\" class=\"text-end\">總計</td>\n            <td class=\"text-end\">{{ cart.total }}</td>\n          </tr>\n          <tr v-if=\"cart.final_total !== cart.total\">\n            <td colspan=\"3\" class=\"text-end text-success\">折扣價</td>\n            <td class=\"text-end text-success\">\n              {{ cart.final_total }}\n            </td>\n          </tr>\n        </tfoot>\n      </table>\n      <div class=\"input-group mb-3 input-group-sm\">\n        <label for=\"couponCode\"> <input type=\"hidden\" /></label>\n        <input\n          id=\"couponCode\"\n          type=\"text\"\n          class=\"form-control\"\n          v-model=\"coupon_code\"\n          placeholder=\"請輸入優惠碼\"\n        />\n        <div class=\"input-group-append\">\n          <button\n            class=\"btn btn-outline-secondary\"\n            type=\"button\"\n            @click=\"addCouponCode\"\n          >\n            套用優惠碼\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"my-5 row justify-content-center\">\n      <Form\n        ref=\"form\"\n        class=\"col-md-6\"\n        v-slot=\"{ errors }\"\n        @submit=\"createOrder\"\n      >\n        <div class=\"mb-3\">\n          <label for=\"email\" class=\"form-label\"\n            >Email <input type=\"hidden\"\n          /></label>\n          <Field\n            id=\"email\"\n            name=\"email\"\n            type=\"email\"\n            class=\"form-control\"\n            :class=\"{ 'is-invalid': errors['email'] }\"\n            placeholder=\"請輸入 Email\"\n            rules=\"email|required\"\n            v-model=\"form.user.email\"\n          ></Field>\n          <ErrorMessage name=\"email\" class=\"invalid-feedback\"></ErrorMessage>\n        </div>\n\n        <div class=\"mb-3\">\n          <label for=\"name\" class=\"form-label\"\n            >收件人姓名 <input type=\"hidden\"\n          /></label>\n          <Field\n            id=\"name\"\n            name=\"姓名\"\n            type=\"text\"\n            class=\"form-control\"\n            :class=\"{ 'is-invalid': errors['姓名'] }\"\n            placeholder=\"請輸入姓名\"\n            rules=\"required\"\n            v-model=\"form.user.name\"\n          ></Field>\n          <ErrorMessage name=\"姓名\" class=\"invalid-feedback\"></ErrorMessage>\n        </div>\n\n        <div class=\"mb-3\">\n          <label for=\"tel\" class=\"form-label\"\n            >收件人電話 <input type=\"hidden\"\n          /></label>\n          <Field\n            id=\"tel\"\n            name=\"電話\"\n            type=\"tel\"\n            class=\"form-control\"\n            :class=\"{ 'is-invalid': errors['電話'] }\"\n            placeholder=\"請輸入電話\"\n            rules=\"required|regex:^09[0-9]{8}$\"\n            v-model=\"form.user.tel\"\n          ></Field>\n          <ErrorMessage name=\"電話\" class=\"invalid-feedback\"></ErrorMessage>\n        </div>\n\n        <div class=\"mb-3\">\n          <label for=\"address\" class=\"form-label\"\n            >收件人地址 <input type=\"hidden\"\n          /></label>\n          <Field\n            id=\"address\"\n            name=\"地址\"\n            type=\"text\"\n            class=\"form-control\"\n            :class=\"{ 'is-invalid': errors['地址'] }\"\n            placeholder=\"請輸入地址\"\n            rules=\"required\"\n            v-model=\"form.user.address\"\n          ></Field>\n          <ErrorMessage name=\"地址\" class=\"invalid-feedback\"></ErrorMessage>\n        </div>\n\n        <div class=\"mb-3\">\n          <label for=\"message\" class=\"form-label\"\n            >留言 <input type=\"hidden\"\n          /></label>\n          <textarea\n            name=\"\"\n            id=\"message\"\n            class=\"form-control\"\n            cols=\"30\"\n            rows=\"10\"\n            v-model=\"form.message\"\n          ></textarea>\n        </div>\n        <div class=\"text-end\">\n          <button class=\"btn btn-danger\">送出訂單</button>\n        </div>\n      </Form>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      products: [],\n      product: {},\n      status: {\n        loadingItem: '',\n      },\n      form: {\n        user: {\n          name: '',\n          email: '',\n          tel: '',\n          address: '',\n        },\n        message: '',\n      },\n      cart: {},\n      isLoading: false,\n      coupon_code: '',\n    };\n  },\n  methods: {\n    getProducts() {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products`;\n      this.isLoading = true;\n      this.$http\n        .get(url)\n        .then((response) => {\n          this.products = response.data.products;\n          this.isLoading = false;\n        })\n        .catch((error) => {\n          this.isLoading = false;\n          this.$httpMessageState(error.response, '錯誤訊息');\n        });\n    },\n    getProduct(id) {\n      this.$router.push(`/user/product/${id}`);\n    },\n    addToCart(id, qty = 1) {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`;\n      this.status.loadingItem = id;\n      const cart = {\n        product_id: id,\n        qty,\n      };\n\n      this.$http\n        .post(url, { data: cart })\n        .then((response) => {\n          this.status.loadingItem = '';\n          this.isLoading = false;\n          this.$httpMessageState(response, '加入購物車');\n          this.getCart();\n        })\n        .catch((error) => {\n          this.isLoading = false;\n          this.$httpMessageState(error.response, '錯誤訊息');\n        });\n    },\n    deleteAllCarts() {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/carts`;\n      this.$http\n        .delete(url)\n        .then((response) => {\n          this.$httpMessageState(response, '清除購物車');\n          this.getCart();\n          this.isLoading = false;\n        })\n        .catch((error) => {\n          this.isLoading = false;\n          this.$httpMessageState(error.response, '清除購物車');\n        });\n    },\n    getCart() {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`;\n      this.isLoading = true;\n      this.$http\n        .get(url)\n        .then((response) => {\n          this.cart = response.data.data;\n          this.isLoading = false;\n        })\n        .catch((error) => {\n          this.isLoading = false;\n          this.$httpMessageState(error.response, '錯誤訊息');\n        });\n    },\n    removeCartItem(id) {\n      this.status.loadingItem = id;\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${id}`;\n      this.isLoading = true;\n      this.$http\n        .delete(url)\n        .then((response) => {\n          this.$httpMessageState(response, '移除購物車品項');\n          this.status.loadingItem = '';\n          this.isLoading = false;\n          this.getCart();\n        })\n        .catch((error) => {\n          this.isLoading = false;\n          this.$httpMessageState(error.response, '移除購物車品項');\n        });\n    },\n    updateCart(data) {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${data.id}`;\n      const cart = {\n        product_id: data.product_id,\n        qty: data.qty,\n      };\n\n      this.$http\n        .put(url, { data: cart })\n        .then((response) => {\n          this.$httpMessageState(response, '更新購物車');\n          this.isLoading = false;\n          this.getCart();\n        })\n        .catch((error) => {\n          this.isLoading = false;\n          this.$httpMessageState(error.response, '更新購物車');\n        });\n    },\n    addCouponCode() {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/coupon`;\n      const coupon = {\n        code: this.coupon_code,\n      };\n      this.isLoading = true;\n      this.$http\n        .post(url, { data: coupon })\n        .then((response) => {\n          this.$httpMessageState(response, '加入優惠券');\n          this.getCart();\n          this.isLoading = false;\n        })\n        .catch((error) => {\n          this.isLoading = false;\n          this.$httpMessageState(error.response, '加入優惠券');\n        });\n    },\n    createOrder() {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/order`;\n      const order = this.form;\n      this.$http\n        .post(url, { data: order })\n        .then((response) => {\n          this.$httpMessageState(response, '建立訂單');\n          this.$router.push(`/user/checkout/${response.data.orderId}`);\n          this.$refs.form.resetForm();\n          this.isLoading = false;\n        })\n        .catch((error) => {\n          this.isLoading = false;\n          this.$httpMessageState(error.response, '建立訂單');\n        });\n    },\n  },\n  created() {\n    this.getProducts();\n    this.getCart();\n  },\n};\n</script>\n","import { render } from \"./FrontCart.vue?vue&type=template&id=57d1c5d1\"\nimport script from \"./FrontCart.vue?vue&type=script&lang=js\"\nexport * from \"./FrontCart.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\Project\\\\hexSchool\\\\vue_week8\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","style","_hoisted_7","for","colspan","type","_createElementBlock","_createVNode","_component_Loading","active","$data","onClick","$options","_hoisted_5","carts","_Fragment","key","_renderList","item","id","disabled","loadingItem","product","title","coupon","_hoisted_11","min","qty","$event","onBlur","_toDisplayString","unit","_hoisted_15","price","_hoisted_16","total","final_total","_hoisted_18","_hoisted_19","_hoisted_22","placeholder","_component_Form","ref","onSubmit","errors","_hoisted_26","_component_Field","name","rules","user","email","_component_ErrorMessage","_hoisted_28","_hoisted_30","tel","_hoisted_32","address","_hoisted_34","cols","rows","message","_hoisted_35","data","products","status","form","cart","isLoading","coupon_code","methods","getProducts","url","this","$http","get","then","response","catch","error","$httpMessageState","getProduct","$router","push","addToCart","product_id","post","getCart","deleteAllCarts","delete","removeCartItem","updateCart","put","addCouponCode","code","createOrder","order","orderId","$refs","resetForm","created","__exports__","render"],"sourceRoot":""}