"use strict";(self["webpackChunkvue_week8"]=self["webpackChunkvue_week8"]||[]).push([[863],{1713:function(t,s,a){a.d(s,{Z:function(){return p}});var e=a(6252),n=a(3577);const o={class:"toast-container position-fixed pe-3 top-0 end-0",style:{"z-index":"1500"}},r={class:"toast-header"},l={class:"me-auto"},i=["onClick"],c={key:0,class:"toast-body"};function u(t,s,a,u,d,h){return(0,e.wg)(),(0,e.iD)("div",o,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(d.messages,((t,s)=>((0,e.wg)(),(0,e.iD)("div",{key:s,class:(0,n.C_)(["toast show",`toast${s}`]),role:"alert"},[(0,e._)("div",r,[(0,e._)("span",{class:(0,n.C_)([`bg-${t.style}`,"p-2 rounded me-2 d-inline-block"])},null,2),(0,e._)("strong",l,(0,n.zw)(t.title),1),(0,e._)("button",{type:"button",class:"btn-close",onClick:t=>h.clearToast(s),"aria-label":"Close"},null,8,i)]),t.content?((0,e.wg)(),(0,e.iD)("div",c,(0,n.zw)(t.content),1)):(0,e.kq)("",!0)],2)))),128))])}var d={data(){return{messages:[]}},inject:["emitter"],methods:{toastShow(){setTimeout((()=>{this.messages.shift()}),6e3)},clearToast(t){this.messages.splice(t,1)}},mounted(){this.emitter.on("push-message",(t=>{const{style:s="success",title:a,content:e}=t;this.messages.push({style:s,title:a,content:e}),this.toastShow()}))}},h=a(3744);const v=(0,h.Z)(d,[["render",u]]);var p=v},4863:function(t,s,a){a.r(s),a.d(s,{default:function(){return Z}});var e=a(6252);function n(t,s,a,n,o,r){const l=(0,e.up)("DashboardNavbar"),i=(0,e.up)("ToastMessages"),c=(0,e.up)("router-view");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e.Wm)(l),(0,e.Wm)(i),o.status?((0,e.wg)(),(0,e.j4)(c,{key:0})):(0,e.kq)("",!0)],64)}var o=a(4902),r=a(9963);const l={class:"navbar navbar-expand-lg navbar-dark bg-dark"},i={class:"container-fluid"},c=(0,e._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,e._)("span",{class:"navbar-toggler-icon"})],-1),u={class:"collapse navbar-collapse",id:"navbarSupportedContent"},d={class:"navbar-nav me-auto mb-2 mb-lg-0"},h={class:"nav-item"},v=(0,e.Uk)("秋夏"),p={class:"nav-item"},m=(0,e.Uk)("產品"),b={class:"nav-item"},g=(0,e.Uk)("訂單"),k={class:"nav-item"},_=(0,e.Uk)("優惠券"),f={class:"nav-item"},w=(0,e.Uk)("文章"),$=(0,e._)("i",{class:"bi-cart3",style:{"font-size":"1.5rem",color:"cornflowerblue"}},null,-1);function y(t,s,a,n,o,y){const C=(0,e.up)("router-link");return(0,e.wg)(),(0,e.iD)("nav",l,[(0,e._)("div",i,[c,(0,e._)("div",u,[(0,e._)("ul",d,[(0,e._)("li",h,[(0,e.Wm)(C,{class:"nav-link active navbar-brand",to:"/"},{default:(0,e.w5)((()=>[v])),_:1})]),(0,e._)("li",p,[(0,e.Wm)(C,{class:"nav-link navbar-brand",to:"/admin/products"},{default:(0,e.w5)((()=>[m])),_:1})]),(0,e._)("li",b,[(0,e.Wm)(C,{class:"nav-link navbar-brand",to:"/admin/orders"},{default:(0,e.w5)((()=>[g])),_:1})]),(0,e._)("li",k,[(0,e.Wm)(C,{class:"nav-link navbar-brand",to:"/admin/coupons"},{default:(0,e.w5)((()=>[_])),_:1})]),(0,e._)("li",f,[(0,e.Wm)(C,{class:"nav-link navbar-brand",to:"/admin/articles"},{default:(0,e.w5)((()=>[w])),_:1})])])]),(0,e.Wm)(C,{class:"mx-2",to:"/admin/cart"},{default:(0,e.w5)((()=>[$])),_:1}),(0,e._)("a",{href:"#",onClick:s[0]||(s[0]=(0,r.iM)(((...t)=>y.logout&&y.logout(...t)),["prevent"])),class:"nav-link"},"登出")])])}var C={methods:{logout(){const t="https://vue3-course-api.hexschool.io/v2/logout";this.$http.post(t).then((t=>{this.$httpMessageState(t,"登出"),t.data.success&&this.$router.push("/")})).catch((t=>{this.$httpMessageState(t.response,"錯誤訊息")}))}}},S=a(3744);const x=(0,S.Z)(C,[["render",y]]);var D=x,W=a(1713),M={data(){return{status:!1}},provide(){return{emitter:o.Z}},components:{DashboardNavbar:D,ToastMessages:W.Z},methods:{checkLogin(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=t;const s="https://vue3-course-api.hexschool.io/v2/api/user/check";this.$http.post(s).then((t=>{this.$httpMessageState(t,"登入"),this.status=!0})).catch((t=>{this.$router.push("/"),this.$httpMessageState(t.response,"錯誤訊息")}))}},mounted(){this.checkLogin()}};const T=(0,S.Z)(M,[["render",n]]);var Z=T}}]);
//# sourceMappingURL=863.d54b08e8.js.map